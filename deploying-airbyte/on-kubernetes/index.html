<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-deploying-airbyte/on-kubernetes">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">(Deprecated) Deploy Airbyte on Kubernetes using Kustomize | Airbyte Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.airbyte.com/deploying-airbyte/on-kubernetes"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="(Deprecated) Deploy Airbyte on Kubernetes using Kustomize | Airbyte Documentation"><meta data-rh="true" name="description" content="This deployment method uses Kustomize and is only supported up to Airbyte version 0.40.32. For existing deployments, check out commit 21a7e102183e20d2d4998ea70c2a8fe4eac8921b to continue deploying using Kustomize. For new deployments, deploy Airbyte on Kubernetes via Helm."><meta data-rh="true" property="og:description" content="This deployment method uses Kustomize and is only supported up to Airbyte version 0.40.32. For existing deployments, check out commit 21a7e102183e20d2d4998ea70c2a8fe4eac8921b to continue deploying using Kustomize. For new deployments, deploy Airbyte on Kubernetes via Helm."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.airbyte.com/deploying-airbyte/on-kubernetes"><link data-rh="true" rel="alternate" href="https://docs.airbyte.com/deploying-airbyte/on-kubernetes" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.airbyte.com/deploying-airbyte/on-kubernetes" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://OYKDBC51MU-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-156258629-2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-156258629-2",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Airbyte Documentation" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.45e63ec9.css">
<link rel="preload" href="/assets/js/runtime~main.0b7987b4.js" as="script">
<link rel="preload" href="/assets/js/main.853c6b1a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-dark.png" alt="Simple, secure and extensible data integration" class="themedImage_ToTc themedImage--light_HNdA" height="40" width="140"><img src="/img/logo-light.png" alt="Simple, secure and extensible data integration" class="themedImage_ToTc themedImage--dark_i4oU" height="40" width="140"></div><b class="navbar__title text--truncate"></b></a><a href="https://airbyte.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://status.airbyte.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://airbyte.com/tutorials" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Tutorials<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discuss.airbyte.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://cloud.airbyte.io/signup?utm_campaign=22Q1_AirbyteCloudSignUpCampaign_Trial&amp;utm_source=Docs&amp;utm_content=NavBar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Try Airbyte Cloud<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Start here</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 navbar__category">Airbyte Connectors</li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/integrations/">Connector Catalog</a><button aria-label="Toggle the collapsible sidebar category &#x27;Connector Catalog&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/connector-development/">Build a Connector</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 navbar__category">Airbyte Cloud</li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud/getting-started-with-airbyte-cloud">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud/core-concepts">Core Concepts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/using-airbyte-cloud">Using Airbyte Cloud</a><button aria-label="Toggle the collapsible sidebar category &#x27;Using Airbyte Cloud&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 navbar__category">Airbyte Open Source (OSS)</li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/getting-started">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/category/deploy-airbyte">Deploy Airbyte</a><button aria-label="Toggle the collapsible sidebar category &#x27;Deploy Airbyte&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/deploying-airbyte/local-deployment">On your local machine</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/deploying-airbyte/on-aws-ec2">On AWS EC2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/deploying-airbyte/on-azure-vm-cloud-shell">On Azure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/deploying-airbyte/on-gcp-compute-engine">On Google (GCP)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/deploying-airbyte/on-kubernetes">On Kubernetes using Kustomize</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/deploying-airbyte/on-kubernetes-via-helm">On Kubernetes using Helm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/deploying-airbyte/on-restack">On Restack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/deploying-airbyte/on-plural">On Plural</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/deploying-airbyte/on-oci-vm">On Oracle Cloud</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/deploying-airbyte/on-digitalocean-droplet">On DigitalOcean</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/manage-airbyte">Manage Airbyte</a><button aria-label="Toggle the collapsible sidebar category &#x27;Manage Airbyte&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/troubleshooting">Troubleshooting &amp; FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 navbar__category">Developer Guides</li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/api-documentation">API documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cli-documentation">CLI documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/understanding-airbyte/beginners-guide-to-catalog">Understand Airbyte</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/contributing-to-airbyte/">Contribute to Airbyte</a><button aria-label="Toggle the collapsible sidebar category &#x27;Contribute to Airbyte&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 navbar__category">Resources</li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/operator-guides/security">Airbyte Security</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://go.airbyte.com/roadmap" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Project Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/release-notes">Release Notes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Release Notes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/deploy-airbyte"><span itemprop="name">Deploy Airbyte</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">On Kubernetes using Kustomize</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>(Deprecated) Deploy Airbyte on Kubernetes using Kustomize</h1><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>This deployment method uses Kustomize and is only supported up to <a href="https://github.com/airbytehq/airbyte/releases/tag/v0.40.32" target="_blank" rel="noopener noreferrer">Airbyte version <code>0.40.32</code></a>. For existing deployments, check out <a href="https://github.com/airbytehq/airbyte/commit/21a7e102183e20d2d4998ea70c2a8fe4eac8921b" target="_blank" rel="noopener noreferrer">commit <code>21a7e102183e20d2d4998ea70c2a8fe4eac8921b</code></a> to continue deploying using Kustomize. For new deployments, <a href="https://docs.airbyte.com/deploying-airbyte/on-kubernetes-via-helm" target="_blank" rel="noopener noreferrer">deploy Airbyte on Kubernetes via Helm</a>.</p></div></div><p>This page guides you through deploying Airbyte Open Source on Kubernetes. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="requirements">Requirements<a href="#requirements" class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements">​</a></h2><p>To test locally, you can use one of the following:</p><ul><li><a href="https://docs.docker.com/desktop/" target="_blank" rel="noopener noreferrer">Docker Desktop</a> with <a href="https://docs.docker.com/desktop/kubernetes/#enable-kubernetes" target="_blank" rel="noopener noreferrer">Kubernetes</a> enabled</li><li><a href="https://docs.docker.com/desktop/kubernetes/#enable-kubernetes" target="_blank" rel="noopener noreferrer">Minikube</a> with at least 4GB RAM</li><li><a href="https://kind.sigs.k8s.io/docs/user/quick-start/" target="_blank" rel="noopener noreferrer">Kind</a></li></ul><p>To test on Google Kubernetes Engine(GKE), create a standard zonal cluster.</p><p>To test on  Amazon Elastic Kubernetes Service (Amazon EKS), install eksctl and create a cluster.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Airbyte deployment is tested on GKE and EKS with version v1.19 and above. If you run into problems, reach out on the <code>#airbyte-help</code> channel in our Slack or create an issue on GitHub.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-and-configure-kubectl-">Install and configure <code>kubectl </code><a href="#install-and-configure-kubectl-" class="hash-link" aria-label="Direct link to install-and-configure-kubectl-" title="Direct link to install-and-configure-kubectl-">​</a></h2><p>Install <code>kubectl</code> and run the following command to configure it and connect to your cluster:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl use-context </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">my-cluster-name</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To configure <code>kubectl</code> in <code>GKE</code>:</p><ol><li>Initialize the <code>gcloud</code> cli.</li><li>To view cluster details, go to the <code>cluster</code> page in the Google Cloud Console and click <code>connect</code>. Run the following command to test cluster details:
<code>gcloud container clusters get-credentials &lt;CLUSTER_NAME&gt; --zone &lt;ZONE_NAME&gt; --project &lt;PROJECT_NAME&gt;</code>.</li><li>To view contexts, run: <code>kubectl config get-contexts</code>.</li><li>To access the cluster from <code>kubectl</code> run : <code>kubectl config use-context &lt;gke context&gt;</code>.</li></ol><p>To configure <code>kubectl</code> in  <code>EKS</code>:</p><ol><li><a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-configure.html" target="_blank" rel="noopener noreferrer">Configure AWS CLI</a> to connect to your project.</li><li>Install <a href="https://eksctl.io/introduction/" target="_blank" rel="noopener noreferrer"><code>eksctl</code></a>.</li><li>To Make contexts available to <code>kubectl</code>, run <code>eksctl utils write-kubeconfig --cluster=&lt;CLUSTER NAME&gt;</code>  </li><li>To view available contexts,  run <code>kubectl config get-contexts</code>.</li><li>To access the cluster, run <code>kubectl config use-context &lt;eks context&gt;</code>.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configure-logs">Configure Logs<a href="#configure-logs" class="hash-link" aria-label="Direct link to Configure Logs" title="Direct link to Configure Logs">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default-configuration">Default configuration<a href="#default-configuration" class="hash-link" aria-label="Direct link to Default configuration" title="Direct link to Default configuration">​</a></h3><p>Airbyte comes with a self-contained Kubernetes deployment and uses a stand-alone <code>Minio</code> deployment in both the <code>dev</code> and <code>stable</code> versions. Logs are published to the <code>Minio</code> deployment by default.</p><p>To send the logs to the local <code>Minio</code> deployment, make sure the specified credentials have both read and write permissions.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-configuration">Custom configuration<a href="#custom-configuration" class="hash-link" aria-label="Direct link to Custom configuration" title="Direct link to Custom configuration">​</a></h3><p>Airbyte supports logging to the <code>Minio</code> layer, <code>S3</code> bucket, and <code>GCS</code> bucket.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="customize-the-minio-log-location">Customize the <code>Minio</code> log location<a href="#customize-the-minio-log-location" class="hash-link" aria-label="Direct link to customize-the-minio-log-location" title="Direct link to customize-the-minio-log-location">​</a></h3><p>To write to a custom location, update the following <code>.env</code> variable in the <code>kube/overlays/stable</code> directory (you will find this directory at the location you launched Airbyte)</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">S3_LOG_BUCKET</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">your_minio_bucket_to_write_logs_in</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">AWS_ACCESS_KEY_ID</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">your_minio_access_key</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">AWS_SECRET_ACCESS_KEY</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">your_minio_secret_key</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">S3_MINIO_ENDPOINT</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">endpoint_where_minio_is_deployed_at</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">S3_LOG_BUCKET_REGION</span><span class="token operator" style="color:#393A34">=</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Set the<code>S3_PATH_STYLE_ACCESS variable to</code>true<code>.
Let the </code>S3_LOG_BUCKET_REGION` variable remain empty.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-the-custom-s3-log-location">Configure the Custom <code>S3</code> Log Location​<a href="#configure-the-custom-s3-log-location" class="hash-link" aria-label="Direct link to configure-the-custom-s3-log-location" title="Direct link to configure-the-custom-s3-log-location">​</a></h3><p>For the <code>S3</code> log location, create an S3 bucket with your AWS credentials.</p><p>To write to a custom location, update the following <code>.env</code> variable in the <code>kube/overlays/stable</code> directory (you can find this directory at the location you launched Airbyte)</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">S3_LOG_BUCKET</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">your_s3_bucket_to_write_logs_in</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">S3_LOG_BUCKET_REGION</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">your_s3_bucket_region</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Set this to empty.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">S3_MINIO_ENDPOINT</span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Set this to empty.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">S3_PATH_STYLE_ACCESS</span><span class="token operator" style="color:#393A34">=</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Replace the following variable in <code>.secrets</code> file in the <code>kube/overlays/stable</code> directory:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">AWS_ACCESS_KEY_ID</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">your_aws_access_key_id</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">AWS_SECRET_ACCESS_KEY</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">your_aws_secret_access_key</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-the-custom-gcs-log-location">Configure the Custom GCS Log Location​<a href="#configure-the-custom-gcs-log-location" class="hash-link" aria-label="Direct link to Configure the Custom GCS Log Location​" title="Direct link to Configure the Custom GCS Log Location​">​</a></h3><p>Create a GCS bucket and  GCP credentials if you haven’t already. Make sure your GCS log bucket has read/write permission.</p><p>To configure the custom log location:</p><p>Base encode the GCP JSON secret with the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># The output of this command will be a Base64 string.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> gcp.json </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> base64</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To populate the <code>gcs-log-creds</code> secrets with the Base64-encoded credential, take the encoded GCP JSON secret from the previous step and add it to <code>secret-gcs-log-creds.yaml</code> file as the value for <code>gcp.json</code> key. </p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: Secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> name: gcs-log-creds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> namespace: default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> gcp.json: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">base64-encoded-string</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the <code>kube/overlays/stable</code> directory, update the  <code>GCS_LOG_BUCKET</code> with your GCS log bucket credentials:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">GCS_LOG_BUCKET</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">your_GCS_bucket_to_write_logs_in</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Modify <code>GOOGLE_APPLICATION_CREDENTIALS</code> to the path to <code>gcp.json</code> in the <code>.secrets</code> file at <code>kube/overlays/stable</code> directory.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># The path the GCS creds are written to. Unless you know what you are doing, use the below default value.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">GOOGLE_APPLICATION_CREDENTIALS</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/secrets/gcs-log-creds/gcp.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="launch-airbyte">Launch Airbyte<a href="#launch-airbyte" class="hash-link" aria-label="Direct link to Launch Airbyte" title="Direct link to Launch Airbyte">​</a></h2><p>The following commands will help you launch Airbyte:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/airbytehq/airbyte.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> airbyte</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -k kube/overlays/stable</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To check the pod status, run <code>kubectl get pods | grep airbyte</code>.</p><p>If you are on Windows, run <code>kubectl get pods</code> to the list of pods.</p><p>Run <code>kubectl port-forward svc/airbyte-webapp-svc 8000:80</code>  to allow access to the UI/API.
Navigate to http://localhost:8000 in your browser to verify the deployment.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-airbyte-on-kubernetes-in-production">Deploy Airbyte on Kubernetes in production<a href="#deploy-airbyte-on-kubernetes-in-production" class="hash-link" aria-label="Direct link to Deploy Airbyte on Kubernetes in production" title="Direct link to Deploy Airbyte on Kubernetes in production">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="set-resource-limits">Set resource limits<a href="#set-resource-limits" class="hash-link" aria-label="Direct link to Set resource limits" title="Direct link to Set resource limits">​</a></h3><ul><li><p>Core container pods </p><ul><li><p>To provide different resource requirements for core pods, set resource limits in the  <code>kube/overlays/stable-with-resource-limits/set-resource-limits.yaml</code> file.</p></li><li><p>To launch Airbyte with new resource limits, 	use the `kubectl apply -k kube/overlays/stable-with-resource-limits command.</p></li></ul></li><li><p>Connector pods</p><ul><li>By default, connector pods launch without resource limits. To add resource limit, configure the <code>Docker resource limits</code> section of the <code>.env</code> file in the <code>kube/overlays</code> directory.</li></ul></li><li><p>Volume sizes</p><ul><li>To specify different volume sizes for the persistent volume backing Airbyte, modify <code>kube/resources/volume-*</code>  files.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="increase-job-parallelism">Increase job parallelism<a href="#increase-job-parallelism" class="hash-link" aria-label="Direct link to Increase job parallelism" title="Direct link to Increase job parallelism">​</a></h3><p>The ability to run parallel jobs like getting specs, checking connections, discovering schemas and performing syncs is limited by a few factors. <code>Airbyte-worker-pods</code> picks and executes the job. Increasing the number of workers will allow more jobs to be processed.</p><p>To create more worker pods, increase the number of replicas for the <code>airbyte-worker</code> deployment. Refer to examples of increasing worker pods in a Kustomization patch in <code>airbyte/kube/overlays/dev-integration-test/kustomization.yaml</code> and <code>airbyte/kube/overlays/dev-integration-test/parallelize-worker.yaml</code> </p><p>To limit the exposed ports in <code>.env</code>  file, set the value to <code>TEMPORAL_WORKER_PORTS</code>. You can run jobs parallely at each exposed port.
If you do not have enough ports to communicate, the jobs might not complete or halt until ports become available.</p><p>You can set a limit for the maximum parallel jobs that run on the pod. Set the value to <code>MAX_SPEC_WORKERS</code>, <code>MAX_CHECK_WORKERS</code>, <code>MAX_DISCOVER_WORKERS</code>, and <code>MAX_SYNC_WORKERS</code> variables in the worker pod deployment and not in <code>.env</code> file. You can use these values to create separate worker deployments for each type of worker with different resource allocations.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cloud-logging">Cloud Logging<a href="#cloud-logging" class="hash-link" aria-label="Direct link to Cloud Logging" title="Direct link to Cloud Logging">​</a></h3><p>Airbyte writes logs to two different directories: The <code>App-logging</code> directory and the <code>job-logging</code> directory. App logs, server logs, and scheduler logs are written to the <code>app-logging</code> directory. Job logs are written to the <code>job-logging</code> directory. Both directories live at the top level. For example, the app logging directory may live at <code>s3://log-bucket/app-logging</code>. We recommend having a dedicated logging bucket and not using it for other purposes.</p><p>Airbyte publishes logs every minute, so it’s normal to have minute-long log delays. Cloud Storages do not support append operations. Each publisher creates its own log files, which means you will have hundreds of files in your log bucket.</p><p>Each log file is uncompressed and named <code>{yyyyMMddHH24mmss}_{podname}_{UUID}</code>.
To view logs, navigate to the relevant folder and download the file for the time period you want.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-external-databases">Use external databases<a href="#use-external-databases" class="hash-link" aria-label="Direct link to Use external databases" title="Direct link to Use external databases">​</a></h3><p>You can configure a custom database instead of a simple <code>postgres</code> container in Kubernetes. This separate instance (AWS RDS or Google Cloud SQL) should be easier and safer to maintain than Postgres on your cluster.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="customize-airbytes-manifests">Customize Airbytes Manifests<a href="#customize-airbytes-manifests" class="hash-link" aria-label="Direct link to Customize Airbytes Manifests" title="Direct link to Customize Airbytes Manifests">​</a></h2><p>We use Kustomize to allow configuration for different environments. Our shared resources are in the <code>kube/resources</code> directory. We recommend defining overlays for each environment and creating your own overlay to customize your deployments. The overlay can live in your own version control system.
An example of <code>kustomization.yaml</code>  file:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: kustomize.config.k8s.io/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: Kustomization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bases: https://github.com/airbytehq/airbyte.git/kube/overlays/stable?ref</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">master</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="view-raw-manifests">View Raw Manifests<a href="#view-raw-manifests" class="hash-link" aria-label="Direct link to View Raw Manifests" title="Direct link to View Raw Manifests">​</a></h3><p>To view manifests for a specific overlay that Kustomize applies to your Kubernetes cluster, run <code>kubectl kustomize kube/overlays/stable</code>. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="helm-charts">Helm Charts<a href="#helm-charts" class="hash-link" aria-label="Direct link to Helm Charts" title="Direct link to Helm Charts">​</a></h3><p>For detailed information about Helm Charts, refer to the charts <a href="https://github.com/airbytehq/airbyte/tree/master/charts/airbyte" target="_blank" rel="noopener noreferrer">readme</a> file.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="operator-guide">Operator Guide<a href="#operator-guide" class="hash-link" aria-label="Direct link to Operator Guide" title="Direct link to Operator Guide">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="view-api-server-logs">View API server logs<a href="#view-api-server-logs" class="hash-link" aria-label="Direct link to View API server logs" title="Direct link to View API server logs">​</a></h3><p>You can view real-time logs in <code>kubectl logs deployments/airbyte-server</code> directory and download them from the Admin Tab.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="connector-container-logs">Connector Container Logs​<a href="#connector-container-logs" class="hash-link" aria-label="Direct link to Connector Container Logs​" title="Direct link to Connector Container Logs​">​</a></h3><p>All logs can be accessed by viewing the scheduler logs. As for connector container logs, use Airbyte UI or Airbyte API to isolate them for a specific job attempt and for easier understanding. Connector pods launched by Airbyte will not relay logs directly to Kubernetes logging. You must access these logs through Airbyte.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resize-volumes">Resize Volumes<a href="#resize-volumes" class="hash-link" aria-label="Direct link to Resize Volumes" title="Direct link to Resize Volumes">​</a></h3><p>To resize a volume, change the <code>.spec.resources.requests.storage</code> value. After re-applying, extend the mount(if that operation is supported for your mount type). For a production deployment, track the usage of volumes to ensure they don&#x27;t run out of space.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="copy-files-in-volumes">Copy Files in Volumes<a href="#copy-files-in-volumes" class="hash-link" aria-label="Direct link to Copy Files in Volumes" title="Direct link to Copy Files in Volumes">​</a></h3><p>To copy files, use the <a href="https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#cp" target="_blank" rel="noopener noreferrer"><code>cp</code> command in kubectl</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="list-files">List Files<a href="#list-files" class="hash-link" aria-label="Direct link to List Files" title="Direct link to List Files">​</a></h3><p>To list files, run:</p><p><code>kubectl exec -it airbyte-server-6b5747df5c-bj4fx ls /tmp/workspace/8</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="read-files">Read Files<a href="#read-files" class="hash-link" aria-label="Direct link to Read Files" title="Direct link to Read Files">​</a></h3><p>To read files, run:</p><p><code>kubectl exec -it airbyte-server-6b5747df5c-bj4fx cat /tmp/workspace/8/0/logs.log</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="persistent-storage-on-google-kubernetes-enginegke-regional-cluster">Persistent storage on Google Kubernetes Engine(GKE) regional cluster<a href="#persistent-storage-on-google-kubernetes-enginegke-regional-cluster" class="hash-link" aria-label="Direct link to Persistent storage on Google Kubernetes Engine(GKE) regional cluster" title="Direct link to Persistent storage on Google Kubernetes Engine(GKE) regional cluster">​</a></h3><p>Running Airbyte on a GKE regional cluster requires enabling persistent regional storage. Start with <a href="https://cloud.google.com/kubernetes-engine/docs/how-to/persistent-volumes/gce-pd-csi-driver#enabling_the_on_an_existing_cluster" target="_blank" rel="noopener noreferrer">enabling CSE driver</a> on GKE and add <code>storageClassName: standard-rwo</code> to the <a href="https://github.com/airbytehq/airbyte/blob/86ee2ad05bccb4aca91df2fb07c412efde5ba71c/kube/resources/volume-configs.yaml" target="_blank" rel="noopener noreferrer">volume-configs.yamll</a>.</p><p>Sample <code>volume-configs.yaml</code> file:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">apiVersion: v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kind: PersistentVolumeClaim</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: airbyte-volume-configs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  labels:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    airbyte: volume-configs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  accessModes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - ReadWriteOnce</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  resources:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    requests:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      storage: 500Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  storageClassName: standard-rwo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">​</a></h2><p>If you encounter any issues, reach out to our community on <a href="https://slack.airbyte.com/" target="_blank" rel="noopener noreferrer">Slack</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/airbytehq/airbyte/blob/master/docs/../docs/deploying-airbyte/on-kubernetes.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/deploying-airbyte/on-gcp-compute-engine"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Deploy Airbyte on GCP (Compute Engine)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/deploying-airbyte/on-kubernetes-via-helm"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deploy Airbyte on Kubernetes using Helm (Beta)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#install-and-configure-kubectl-" class="table-of-contents__link toc-highlight">Install and configure <code>kubectl </code></a></li><li><a href="#configure-logs" class="table-of-contents__link toc-highlight">Configure Logs</a><ul><li><a href="#default-configuration" class="table-of-contents__link toc-highlight">Default configuration</a></li><li><a href="#custom-configuration" class="table-of-contents__link toc-highlight">Custom configuration</a></li><li><a href="#customize-the-minio-log-location" class="table-of-contents__link toc-highlight">Customize the <code>Minio</code> log location</a></li><li><a href="#configure-the-custom-s3-log-location" class="table-of-contents__link toc-highlight">Configure the Custom <code>S3</code> Log Location​</a></li><li><a href="#configure-the-custom-gcs-log-location" class="table-of-contents__link toc-highlight">Configure the Custom GCS Log Location​</a></li></ul></li><li><a href="#launch-airbyte" class="table-of-contents__link toc-highlight">Launch Airbyte</a></li><li><a href="#deploy-airbyte-on-kubernetes-in-production" class="table-of-contents__link toc-highlight">Deploy Airbyte on Kubernetes in production</a><ul><li><a href="#set-resource-limits" class="table-of-contents__link toc-highlight">Set resource limits</a></li><li><a href="#increase-job-parallelism" class="table-of-contents__link toc-highlight">Increase job parallelism</a></li><li><a href="#cloud-logging" class="table-of-contents__link toc-highlight">Cloud Logging</a></li><li><a href="#use-external-databases" class="table-of-contents__link toc-highlight">Use external databases</a></li></ul></li><li><a href="#customize-airbytes-manifests" class="table-of-contents__link toc-highlight">Customize Airbytes Manifests</a><ul><li><a href="#view-raw-manifests" class="table-of-contents__link toc-highlight">View Raw Manifests</a></li><li><a href="#helm-charts" class="table-of-contents__link toc-highlight">Helm Charts</a></li></ul></li><li><a href="#operator-guide" class="table-of-contents__link toc-highlight">Operator Guide</a><ul><li><a href="#view-api-server-logs" class="table-of-contents__link toc-highlight">View API server logs</a></li><li><a href="#connector-container-logs" class="table-of-contents__link toc-highlight">Connector Container Logs​</a></li><li><a href="#resize-volumes" class="table-of-contents__link toc-highlight">Resize Volumes</a></li><li><a href="#copy-files-in-volumes" class="table-of-contents__link toc-highlight">Copy Files in Volumes</a></li><li><a href="#list-files" class="table-of-contents__link toc-highlight">List Files</a></li><li><a href="#read-files" class="table-of-contents__link toc-highlight">Read Files</a></li><li><a href="#persistent-storage-on-google-kubernetes-enginegke-regional-cluster" class="table-of-contents__link toc-highlight">Persistent storage on Google Kubernetes Engine(GKE) regional cluster</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.0b7987b4.js"></script>
<script src="/assets/js/main.853c6b1a.js"></script>
</body>
</html>