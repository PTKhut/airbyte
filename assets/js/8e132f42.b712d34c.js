"use strict";(self.webpackChunkdocu=self.webpackChunkdocu||[]).push([[14681],{69821:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>d});var r=n(87462),i=(n(67294),n(3905));const a={},o="Langchain Migration Guide",s={unversionedId:"integrations/destinations/langchain-migrations",id:"integrations/destinations/langchain-migrations",title:"Langchain Migration Guide",description:"Upgrading to 0.1.0",source:"@site/../docs/integrations/destinations/langchain-migrations.md",sourceDirName:"integrations/destinations",slug:"/integrations/destinations/langchain-migrations",permalink:"/integrations/destinations/langchain-migrations",draft:!1,editUrl:"https://github.com/airbytehq/airbyte/blob/master/docs/../docs/integrations/destinations/langchain-migrations.md",tags:[],version:"current",frontMatter:{},sidebar:"mySidebar",previous:{title:"Vector Database (powered by LangChain)",permalink:"/integrations/destinations/langchain"},next:{title:"Local JSON",permalink:"/integrations/destinations/local-json"}},c={},d=[{value:"Upgrading to 0.1.0",id:"upgrading-to-010",level:2}],l={toc:d},p="wrapper";function u(e){let{components:t,...n}=e;return(0,i.kt)(p,(0,r.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"langchain-migration-guide"},"Langchain Migration Guide"),(0,i.kt)("h2",{id:"upgrading-to-010"},"Upgrading to 0.1.0"),(0,i.kt)("p",null,"This version changes the way record ids are tracked internally. If you are using a stream in ",(0,i.kt)("strong",{parentName:"p"},"append-dedup")," mode, you need to reset the connection after doing the upgrade to avoid duplicates."),(0,i.kt)("p",null,"Prior to this version, deduplication only considered the primary key per record, without disambiugating between streams. This could lead to data loss if records from two different streams had the same primary key."),(0,i.kt)("p",null,"The problem is fixed by appending the namespace and stream name to the ",(0,i.kt)("inlineCode",{parentName:"p"},"_ab_record_id")," field to disambiguate between records originating from different streams. If a connection using ",(0,i.kt)("strong",{parentName:"p"},"append-dedup")," mode is not reset after the upgrade, it will consider all records as new and will not deduplicate them, leading to stale vectors in the destination."))}u.isMDXComponent=!0},3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>m});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=r.createContext({}),d=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},l=function(e){var t=d(e.components);return r.createElement(c.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},g=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=d(n),g=i,m=p["".concat(c,".").concat(g)]||p[g]||u[g]||a;return n?r.createElement(m,o(o({ref:t},l),{},{components:n})):r.createElement(m,o({ref:t},l))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=g;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[p]="string"==typeof e?e:i,o[1]=s;for(var d=2;d<a;d++)o[d]=n[d];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}g.displayName="MDXCreateElement"}}]);