"use strict";(self.webpackChunkdocu=self.webpackChunkdocu||[]).push([[80921],{13349:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>r,metadata:()=>i,toc:()=>s});var o=n(87462),a=(n(67294),n(3905));const r={},l="Deploy Airbyte on GCP (Compute Engine)",i={unversionedId:"deploying-airbyte/on-gcp-compute-engine",id:"deploying-airbyte/on-gcp-compute-engine",title:"Deploy Airbyte on GCP (Compute Engine)",description:"This page guides you through deploying Airbyte Open Source on a Google Cloud Platform (GCP) Compute Engine instance by setting up the deployment environment, installing and starting Airbyte, and connecting it to the GCP instance.",source:"@site/../docs/deploying-airbyte/on-gcp-compute-engine.md",sourceDirName:"deploying-airbyte",slug:"/deploying-airbyte/on-gcp-compute-engine",permalink:"/deploying-airbyte/on-gcp-compute-engine",draft:!1,editUrl:"https://github.com/airbytehq/airbyte/blob/master/docs/../docs/deploying-airbyte/on-gcp-compute-engine.md",tags:[],version:"current",frontMatter:{},sidebar:"mySidebar",previous:{title:"Deploy Airbyte on Azure (Cloud Shell)",permalink:"/deploying-airbyte/on-azure-vm-cloud-shell"},next:{title:"Deploy Airbyte on Kubernetes using Helm",permalink:"/deploying-airbyte/on-kubernetes-via-helm"}},c={},s=[{value:"Requirements",id:"requirements",level:2},{value:"Set up the environment",id:"set-up-the-environment",level:2},{value:"Install and launch Airbyte",id:"install-and-launch-airbyte",level:2},{value:"Connect to Airbyte",id:"connect-to-airbyte",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}],u={toc:s},p="wrapper";function m(e){let{components:t,...n}=e;return(0,a.kt)(p,(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"deploy-airbyte-on-gcp-compute-engine"},"Deploy Airbyte on GCP (Compute Engine)"),(0,a.kt)("p",null,"This page guides you through deploying Airbyte Open Source on a ",(0,a.kt)("a",{parentName:"p",href:"https://cloud.google.com/compute/docs/instances"},"Google Cloud Platform (GCP) Compute Engine instance")," by setting up the deployment environment, installing and starting Airbyte, and connecting it to the GCP instance."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"The instructions have been tested on a ",(0,a.kt)("inlineCode",{parentName:"p"},"Debian GNU/Linux 10")," VM instance.")),(0,a.kt)("h2",{id:"requirements"},"Requirements"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"To test Airbyte, we recommend an ",(0,a.kt)("inlineCode",{parentName:"li"},"e2.medium")," instance and provision at least 30GBs of disk per node"),(0,a.kt)("li",{parentName:"ul"},"To deploy Airbyte in a production environment, we recommend a ",(0,a.kt)("inlineCode",{parentName:"li"},"n1-standard-2")," instance")),(0,a.kt)("h2",{id:"set-up-the-environment"},"Set up the environment"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Create a ",(0,a.kt)("a",{parentName:"li",href:"https://cloud.google.com/compute/docs/instances/create-start-instance"},"new GCP instance"),"."),(0,a.kt)("li",{parentName:"ol"},"Set variables in your local terminal:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"PROJECT_ID=PROJECT_ID_WHERE_YOU_CREATED_YOUR_INSTANCE\nINSTANCE_NAME=airbyte # or any other name that you've used\n")),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"Install Google Cloud SDK and initialize the gcloud command-line tool using the following commands in your local terminal:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"brew install --cask google-cloud-sdk\ngcloud init\n")),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},"List all instances in your project and verify that you can see the Airbyte instance you created in step 1 in your local terminal:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"# Verify you can see your instance\ngcloud --project $PROJECT_ID compute instances list\n[...] # You should see the airbyte instance you just created\n")),(0,a.kt)("ol",{start:5},(0,a.kt)("li",{parentName:"ol"},"Connect to your instance in your local terminal:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"gcloud --project=$PROJECT_ID beta compute ssh $INSTANCE_NAME\n")),(0,a.kt)("ol",{start:6},(0,a.kt)("li",{parentName:"ol"},"Install Docker on your VM instance by following the below commands in your VM terminal:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'sudo apt-get update\nsudo apt-get install -y apt-transport-https ca-certificates curl gnupg2 software-properties-common\ncurl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add --\nsudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/debian buster stable"\nsudo apt-get update\nsudo apt-get install -y docker-ce docker-ce-cli containerd.io\nsudo usermod -a -G docker $USER\n')),(0,a.kt)("ol",{start:7},(0,a.kt)("li",{parentName:"ol"},"Install ",(0,a.kt)("inlineCode",{parentName:"li"},"docker-compose")," on your VM instance by following the below commands in your VM terminal:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get -y install docker-compose-plugin\ndocker compose version\n")),(0,a.kt)("ol",{start:8},(0,a.kt)("li",{parentName:"ol"},"Close the SSH connection on your VM instance to ensure the group modification is taken into account by following the below command in your VM terminal:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"logout\n")),(0,a.kt)("h2",{id:"install-and-launch-airbyte"},"Install and launch Airbyte"),(0,a.kt)("p",null,"To install and launch Airbyte:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"In your local terminal, connect to your Google Cloud instance:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"gcloud --project=$PROJECT_ID beta compute ssh $INSTANCE_NAME\n")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"In your VM terminal, install Airbyte:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir airbyte && cd airbyte\nwget https://raw.githubusercontent.com/airbytehq/airbyte/master/run-ab-platform.sh\nchmod +x run-ab-platform.sh\n./run-ab-platform.sh -b\n")),(0,a.kt)("h2",{id:"connect-to-airbyte"},"Connect to Airbyte"),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"For security reasons, we strongly recommended not exposing Airbyte publicly.")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"In your local terminal, create an SSH tunnel to connect the GCP instance to Airbyte:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"gcloud --project=$PROJECT_ID beta compute ssh $INSTANCE_NAME -- -L 8000:localhost:8000 -N -f\n")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"Verify the connection by visiting ",(0,a.kt)("a",{parentName:"li",href:"http://localhost:8000"},"http://localhost:8000")," in your browser.")),(0,a.kt)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,a.kt)("p",null,"If you encounter any issues, reach out to our community on ",(0,a.kt)("a",{parentName:"p",href:"https://slack.airbyte.com/"},"Slack"),"."))}m.isMDXComponent=!0},3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>y});var o=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=o.createContext({}),s=function(e){var t=o.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=s(e.components);return o.createElement(c.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),p=s(n),d=a,y=p["".concat(c,".").concat(d)]||p[d]||m[d]||r;return n?o.createElement(y,l(l({ref:t},u),{},{components:n})):o.createElement(y,l({ref:t},u))}));function y(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,l=new Array(r);l[0]=d;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[p]="string"==typeof e?e:a,l[1]=i;for(var s=2;s<r;s++)l[s]=n[s];return o.createElement.apply(null,l)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);