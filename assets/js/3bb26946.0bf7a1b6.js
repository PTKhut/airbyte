"use strict";(self.webpackChunkdocu=self.webpackChunkdocu||[]).push([[95326],{54785:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>c,toc:()=>s});var n=a(87462),r=(a(67294),a(3905));const o={},i="Manage schema changes",c={unversionedId:"cloud/managing-airbyte-cloud/manage-schema-changes",id:"cloud/managing-airbyte-cloud/manage-schema-changes",title:"Manage schema changes",description:"You can specify for each connection how Airbyte should handle any change of schema in the source. This process helps ensure accurate and efficient data syncs, minimizing errors and saving you time and effort in managing your data pipelines.",source:"@site/../docs/cloud/managing-airbyte-cloud/manage-schema-changes.md",sourceDirName:"cloud/managing-airbyte-cloud",slug:"/cloud/managing-airbyte-cloud/manage-schema-changes",permalink:"/cloud/managing-airbyte-cloud/manage-schema-changes",draft:!1,editUrl:"https://github.com/airbytehq/airbyte/blob/master/docs/../docs/cloud/managing-airbyte-cloud/manage-schema-changes.md",tags:[],version:"current",frontMatter:{},sidebar:"mySidebar",previous:{title:"Review the sync history",permalink:"/cloud/managing-airbyte-cloud/review-sync-history"},next:{title:"Manage notifications",permalink:"/cloud/managing-airbyte-cloud/manage-airbyte-cloud-notifications"}},l={},s=[{value:"Review non-breaking schema changes",id:"review-non-breaking-schema-changes",level:2},{value:"Resolve breaking changes",id:"resolve-breaking-changes",level:2},{value:"Manually refresh the source schema",id:"manually-refresh-the-source-schema",level:3},{value:"Manage Schema Change Notifications",id:"manage-schema-change-notifications",level:2}],h={toc:s},u="wrapper";function m(e){let{components:t,...a}=e;return(0,r.kt)(u,(0,n.Z)({},h,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"manage-schema-changes"},"Manage schema changes"),(0,r.kt)("p",null,"You can specify for each connection how Airbyte should handle any change of schema in the source. This process helps ensure accurate and efficient data syncs, minimizing errors and saving you time and effort in managing your data pipelines."),(0,r.kt)("p",null,"Airbyte checks for any changes in your source schema before syncing, at most once every 24 hours."),(0,r.kt)("p",null,'Based on your configured settings for "Detect and propagate schema changes", Airbyte can automatically sync those changes or ignore them: '),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Propagate all changes")," automatically propagates stream changes (additions or deletions) or column changes (additions or deletions) detected in the source"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Propagate column changes only")," automatically propagates column changes detected in the source"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Ignore")," any schema change, in which case the schema you\u2019ve set up will not change even if the source schema changes until you approve the changes manually"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Pause connection")," disables the connection from syncing further once a change is detected")),(0,r.kt)("p",null,"When a new column is detected and propagated, values for that column will be filled in for the updated rows. If you are missing values for rows not updated, a backfill can be done by completing a full refresh."),(0,r.kt)("p",null,"When a column is deleted, the values for that column will stop updating for the updated rows and be filled with Null values."),(0,r.kt)("p",null,"When a new stream is detected and propagated, the first sync will fill all data in as if it is a historical sync. When a stream is deleted from the source, the stream will stop updating, and we leave any existing data in the destination. The rest of the enabled streams will continue syncing."),(0,r.kt)("p",null,"In all cases, if a breaking change is detected, the connection will be paused for manual review to prevent future syncs from failing. Breaking schema changes occur when:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"An existing primary key is removed from the source"),(0,r.kt)("li",{parentName:"ul"},"An existing cursor is removed from the source")),(0,r.kt)("p",null,'See "Fix breaking schema changes" to understand how to resolve these types of changes.'),(0,r.kt)("h2",{id:"review-non-breaking-schema-changes"},"Review non-breaking schema changes"),(0,r.kt)("p",null,"To review non-breaking schema changes:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"On the ",(0,r.kt)("a",{parentName:"p",href:"http://cloud.airbyte.com/"},"Airbyte Cloud")," dashboard, click ",(0,r.kt)("strong",{parentName:"p"},"Connections")," and select the connection with non-breaking changes (indicated by a ",(0,r.kt)("strong",{parentName:"p"},"yellow exclamation mark")," icon).")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Click ",(0,r.kt)("strong",{parentName:"p"},"Review changes"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"The ",(0,r.kt)("strong",{parentName:"p"},"Refreshed source schema")," dialog displays the changes detected. ")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Review the changes and click ",(0,r.kt)("strong",{parentName:"p"},"OK")," to close the dialog.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Scroll to the bottom of the page and click ",(0,r.kt)("strong",{parentName:"p"},"Save changes"),"."))),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"}," By default, Airbyte ignores non-breaking changes and continues syncing. You can configure how Airbyte handles syncs when it detects non-breaking changes by ",(0,r.kt)("a",{parentName:"p",href:"https://docs.airbyte.com/cloud/managing-airbyte-cloud/edit-stream-configuration"},"editing the stream configuration"),".\n")),(0,r.kt)("h2",{id:"resolve-breaking-changes"},"Resolve breaking changes"),(0,r.kt)("p",null,"Breaking changes require your attention to resolve. They may immediately cause the connection to be disabled, or you can upgrade the connector manually within a time period once reviewing the changes."),(0,r.kt)("p",null,"A connection will automatically be disabled if: "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"An existing primary key is removed"),(0,r.kt)("li",{parentName:"ul"},"An existing cursor field is removed")),(0,r.kt)("p",null,"If the breaking change is due to a new version, the connection will alert you of a breaking change but continue to sync until the cutoff date. On the cutoff date, the connection will automatically be disabled on that date to prevent failure or unexpected behavior. These breaking changes  include: "),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Type of Change"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Spec Change"),(0,r.kt)("td",{parentName:"tr",align:null},"The configuration required by users of this connector has been changed and syncs will fail until users reconfigure or re-authenticate.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Schema Change"),(0,r.kt)("td",{parentName:"tr",align:null},"The type of property previously present within a record has changed")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Stream or Property Removal"),(0,r.kt)("td",{parentName:"tr",align:null},"Data that was previously being synced is no longer going to be synced")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Destination Format / Normalization Change"),(0,r.kt)("td",{parentName:"tr",align:null},"The way the destination writes the final data or how normalization cleans that data is changing in a way that requires a full refresh")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"State Changes"),(0,r.kt)("td",{parentName:"tr",align:null},"The format of the source\u2019s state has changed, and the full dataset will need to be re-synced")))),(0,r.kt)("p",null,"To review and fix breaking schema changes:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"On the ",(0,r.kt)("a",{parentName:"p",href:"http://cloud.airbyte.com/"},"Airbyte Cloud")," dashboard, click ",(0,r.kt)("strong",{parentName:"p"},"Connections")," and select the connection with breaking changes (indicated by a ",(0,r.kt)("strong",{parentName:"p"},"red exclamation mark")," icon).")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Review the description of what has changed. The breaking change will require you to upgrade your source or destination to a new version. ")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Update the source or destination to the new version to continue syncing. "))),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"If a connection\u2019s source schema has breaking changes (an existing cursor or primary key is removed), it will stop syncing immediately. You must review and fix the changes before editing the connection or resuming syncs.")),(0,r.kt)("h3",{id:"manually-refresh-the-source-schema"},"Manually refresh the source schema"),(0,r.kt)("p",null,"In addition to Airbyte Cloud\u2019s automatic schema change detection, you can manually refresh the source schema to stay up to date with changes in your schema. "),(0,r.kt)("p",null," To manually refresh the source schema:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"On the ",(0,r.kt)("a",{parentName:"p",href:"http://cloud.airbyte.com"},"Airbyte Cloud")," dashboard, click ",(0,r.kt)("strong",{parentName:"p"},"Connections")," and then click the connection you want to refresh.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Click the ",(0,r.kt)("strong",{parentName:"p"},"Replication")," tab.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"In the ",(0,r.kt)("strong",{parentName:"p"},"Activate the streams you want to sync")," table, click ",(0,r.kt)("strong",{parentName:"p"},"Refresh source schema")," to fetch the schema of your data source.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"If there are changes to the schema, you can review them in the ",(0,r.kt)("strong",{parentName:"p"},"Refreshed source schema")," dialog."))),(0,r.kt)("h2",{id:"manage-schema-change-notifications"},"Manage Schema Change Notifications"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docs.airbyte.com/cloud/managing-airbyte-cloud/manage-airbyte-cloud-notifications#enable-schema-update-notifications"},"Refer to our notification documentation")," to understand how to stay updated on any schema updates to your connections."))}m.isMDXComponent=!0},3905:(e,t,a)=>{a.d(t,{Zo:()=>h,kt:()=>d});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),s=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},h=function(e){var t=s(e.components);return n.createElement(l.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,h=c(e,["components","mdxType","originalType","parentName"]),u=s(a),p=r,d=u["".concat(l,".").concat(p)]||u[p]||m[p]||o;return a?n.createElement(d,i(i({ref:t},h),{},{components:a})):n.createElement(d,i({ref:t},h))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=p;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c[u]="string"==typeof e?e:r,i[1]=c;for(var s=2;s<o;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"}}]);